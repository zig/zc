class test_t {
    class lolo_t {
	int titi;
	int majoliemethode() {
	    return 42;
	}
	static int gloubi() {
	    return 332;
	}
    }

    static int boulga;
    int a;
    lolo_t lala;

    void __init() {
	a = 42;
    }
    void __init(int pa) {
	a = pa;
    }

    test_t jolie() {
	return this;
    }
    int moche() {
	return 3;
    }

    static float __operator_plus(float a, lolo_t l) {
	return a + l.titi;
    }
    float __operator_plus(float b) {
	return a + b;
    }
    
    /*static*/ int with_closure() { // static is forbiden because the method access non static members
	this.toto(32, 5.3);
	return a;
    }

    float toto(int x, float y)
    {
	lolo_t b;
	b = new lolo_t;

	/*class pipo_t {
	    int bambi;
	    int with_closure() {
		return x;
	    }
	    };

	    pipo_t world;*/

	x + y;
	b.titi = b.titi = 32;
	//(x + y) = 2.5;
	//3();
	lala = new lolo_t;
	this.lala.titi;
	jolie().a;
	//moche = 32; // bug !!
	//3.5 + moche;
	//moche;
	lala.titi + this.lala.majoliemethode();
	this + 3.5;
	//lala = null;
	return (a + x / y + a) * x + (b.titi = 4) + b;
    }
}

int global_func() {
    return 42;
}

test_t passobj(test_t in) {
    return in;
}

test_t newobj() {
    test_t test;
    test = new test_t;
    test.a = 42;
    return test;
}

int takeobj(test_t in) {
}

int main() {
    test_t test;

    int a, b;
    a = b = global_func();
    test = new test_t;

    passobj(passobj(test)).toto(2, 3.6);
    passobj(new test_t).toto(2, 3.6);
    test = newobj();
    takeobj(test);

    //null = 42;

    test_t.lolo_t.gloubi();
    test.lolo_t.gloubi();
    //test_t.boulga = 32;

    null var;
    var = null;
    var = var;
    //var = true;

    int(32);

    boolean bool;
    bool = true;
    bool = (test == null) && bool && test || 32;
    //bool = null;

    test = test_t();
    test = null;
    test = test_t(10);
    return int(test.toto(10, 3.5));
    //return newobj().a;
}
